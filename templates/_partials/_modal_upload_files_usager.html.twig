<dialog 
    aria-labelledby="fr-modal-upload-files-usager" 
    id="fr-modal-upload-files-usager" 
    class="fr-modal" 
    role="dialog" 
    data-file-type="document"
    data-has-changes="false"
    data-validated="false"
    data-add-file-route="{{ path('signalement_add_file',{uuid:signalement.uuid}) }}"
    data-add-file-token="{{ csrf_token('signalement_add_file_'~signalement.id) }}"
    data-edit-file-route="{{ path('signalement_edit_file',{uuid:signalement.uuid}) }}"
    data-edit-file-token="{{ csrf_token('signalement_edit_file_'~signalement.id) }}"
    data-delete-tmp-file-route="{{ path('signalement_delete_tmpfile',{uuid:signalement.uuid}) }}"
    >
    <div class="fr-container fr-container--fluid fr-container-md">
        <div class="fr-grid-row fr-grid-row--center">
            <div class="fr-col-12 fr-col-md-8">
                <div class="fr-modal__body">
                    <div class="fr-modal__header">
                        <button class="fr-btn--close fr-btn" aria-controls="fr-modal-upload-files-usager">Fermer</button>
                    </div>
                    <div class="fr-modal__content">
                        <div class="type-conditional type-document">
                            <h1 class="fr-modal__title">
                                Ajouter des documents liés à la situation
                            </h1>
                            <div>
                                Ajouter un ou plusieurs documents. Pour chaque document, veuillez renseigner son type.
                            </div>
                        </div>
                        <div class="type-conditional type-photo">
                            <h1 class="fr-modal__title">
                                Ajouter des photos de la situation
                            </h1>
                            <div>
                                Ajouter une ou plusieurs photos au signalement. Pour chaque photo, veuillez sélectionner le désordre auquel elle est rattachée. 
                            </div>
                                <section class="fr-accordion">
                                    <h3 class="fr-accordion__title">
                                        <button class="fr-accordion__btn" aria-expanded="false" aria-controls="reglementation-photo">Règlementation des photos</button>
                                    </h3>
                                    <div class="fr-collapse" id="reglementation-photo">
                                        <p>
                                        Les photos ne doivent pas contenir de vues de personnes ou d'objets personnels.
                                        <br>
                                        Pour les photos des parties communes, certaines restrictions sont à respecter.
                                        </p>
                                       <strong>Comment bien prendre vos photos ?</strong>
                                        <small class="fr-hint-text">Quelques conseils pour bien prendre
                                            vos photos</small>
                                        <ul class="fr-list">
                                            <li>Evitez de prendre en photo des personnes ou des objets
                                                personnels
                                            </li>
                                            <li>Lorsque vous prenez votre photo, assurez-vous que la
                                                luminosité soit suffisante.
                                                <br> N’hésitez pas à activer le flash si besoin.
                                            </li>
                                            <li>Assurez-vous que votre photo n’est pas floue.</li>
                                            <li>Votre photo doit permettre de rendre compte de la
                                                situation globale. Évitez donc les photos prises en gros
                                                plan ou les photos qui ne permettent pas de bien évaluer
                                                la situation.
                                            </li>
                                        </ul>

                                        <strong>Rappel concernant les interdictions de photographie</strong>
                                        <small class="fr-hint-text">Sont interdites les photographies
                                            des parties communes présentant un élément
                                            d'identification</small>
                                        <ul class="fr-list">
                                            <li>d'une personne</li>
                                            <li>d'une ou plusieurs boîtes aux lettres</li>
                                            <li>d'éléments extérieurs</li>
                                            <li>de numéros d'appartements</li>
                                            <li>de noms de propriétaires ou locataires de logements</li>
                                            <li>de plaque d’immatriculation de véhicules</li>
                                        </ul>
                                    </div>
                                </section>
                        </div>
                        <div class="modal-upload-upload-container fr-mb-4w">
                            <div class="modal-upload-drop-section">
                                <span class="fr-icon-upload-2-line fr-icon--lg fr-text-label--blue-france"></span>
                                <div class="modal-upload-drop-section-label fr-mt-1w">
                                    Faites glisser vos documents ici
                                </div>
                            </div>
                            <p class="fr-mb-1w">ou</p>
                            <button class="modal-upload-files-selector fr-btn fr-icon-search-line fr-btn--icon-left fr-btn--secondary">Parcourir les fichiers de l'appareil</button>
                            <input type="file" class="modal-upload-files-selector-input" multiple accept="application/*">
                        </div>
                        <div class="modal-upload-list-section" id="modal-upload-file-dynamic-content">
                            <div class="modal-upload-list"></div>
                        </div>
                        <div style="display:none">
                            {% set DocumentType = enum('\\App\\Entity\\Enum\\DocumentType') %}
                            <select class="fr-select select-type" data-file-id="" id="select-type-situation-to-clone">
                                <option value="">Sélectionner un type</option>
                                {% for key, value in DocumentType.getOrderedSituationList() %}
                                    <option value="{{ key }}">{{ value }}</option>
                                {% endfor %}
                            </select>
                            <select class="fr-select select-desordre" data-file-id="" id="select-desordre-to-clone">
                                <option value="">Sélectionner un désordre</option>
                                {% for key, value in criteres %}
                                    <option value="{{ key }}">{{ value }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="fr-modal__footer">
                        <div class="fr-btns-group fr-btns-group--right fr-btns-group--inline-lg fr-btns-group--icon-left">
                            <button class="fr-btn fr-btn--secondary fr-icon-close-line" aria-controls="fr-modal-upload-files-usager">
                                Annuler
                            </button>
                            <button class="fr-btn fr-icon-check-line" aria-controls="fr-modal-upload-files-usager" id="btn-validate-modal-upload-files">
                                Valider
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</dialog>
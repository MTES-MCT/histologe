<dialog aria-labelledby="fr-modal-title-modal-edit-informations-logement" role="dialog" id="fr-modal-edit-informations-logement" class="fr-modal">
    <div class="fr-container fr-container--fluid fr-container-md">
        <div class="fr-grid-row fr-grid-row--center">
            <div class="fr-col-12 fr-col-md-8">
                <form method="POST" id="form-edit-informations-logement" enctype="application/json" action="{{ path('back_signalement_edit_informations_logement',{uuid:signalement.uuid}) }}">
                    <div class="fr-modal__body">
                        <div class="fr-modal__header">
                            <button type="button" class="fr-btn--close fr-btn" aria-controls="fr-modal-edit-informations-logement">Fermer</button>
                        </div>
                        <div class="fr-modal__content">
                            <h1 id="fr-modal-title-modal-edit-informations-logement" class="fr-modal__title">
                                Modifier les informations du logement
                            </h1>

                            <div class="fr-select-group">
                                <label class="fr-label" for="type">Type</label>
                                <select class="fr-select" name="type">
                                    <option value="" disabled hidden>Sélectionnez un choix</option>
                                    <option value="appartement" {{ signalement.natureLogement is same as 'appartement' ? 'selected' : '' }}>Appartement</option>
                                    <option value="maison" {{ signalement.natureLogement is same as 'maison' ? 'selected' : '' }}>Maison</option>
                                    <option value="autre" {{ signalement.natureLogement is same as 'autre' ? 'selected' : '' }}>Autre</option>
                                </select>
                            </div>

                            <div class="fr-input-group">
                                {% set autrePrecision = '' %}
                                {% if signalement.typeCompositionLogement %}
                                    {% set autrePrecision = signalement.typeCompositionLogement.typeLogementNatureAutrePrecision %}
                                {% endif %}
                                <label class="fr-label" for="typeLogementNatureAutrePrecision">Précision (si autre)</label>
                                <input class="fr-input" type="text" name="typeLogementNatureAutrePrecision" value="{{ autrePrecision }}" maxlength="50">
                            </div>

                            <div class="fr-input-group">
                                {% set nombrePersonnes = 0 %}
                                {% if signalement.typeCompositionLogement %}
                                    {% set nombrePersonnes = signalement.nbOccupantsLogement %}
                                {% else %}
                                    {% set nombrePersonnes = signalement.nbPersonsDeprecated %}
                                {% endif %}
                                <label class="fr-label" for="nombrePersonnes">Nb. personnes</label>
                                <input class="fr-input" type="number" name="nombrePersonnes" value="{{ nombrePersonnes }}">
                            </div>

                            <div class="fr-select-group">
                                {% set compositionLogementEnfants = 'nsp' %}
                                {% if signalement.typeCompositionLogement %}
                                    {% if signalement.typeCompositionLogement.compositionLogementEnfants is same as 'oui' %}
                                        {% set compositionLogementEnfants = 'oui' %}
                                    {% elseif signalement.typeCompositionLogement.compositionLogementEnfants is same as 'non' %}
                                        {% set compositionLogementEnfants = 'non' %}
                                    {% else %}
                                        {% set compositionLogementEnfants = 'nsp' %}
                                    {% endif %}
                                {% else %}
                                    {% if signalement.nbEnfantsM6 > 0 %}
                                        {% set compositionLogementEnfants = 'oui' %}
                                    {% else %}
                                        {% set compositionLogementEnfants = 'non' %}
                                    {% endif %}
                                {% endif %}
                                <label class="fr-label" for="compositionLogementEnfants">Enfants -6 ans</label>
                                <select class="fr-select" name="compositionLogementEnfants">
                                    <option value="" disabled hidden>Sélectionnez un choix</option>
                                    <option value="oui" {{ compositionLogementEnfants is same as 'oui' ? 'selected' : '' }}>Oui</option>
                                    <option value="non" {{ compositionLogementEnfants is same as 'non' ? 'selected' : '' }}>Non</option>
                                    <option value="nsp" {{ compositionLogementEnfants is same as 'nsp' ? 'selected' : '' }}>Je ne sais pas</option>
                                </select>
                            </div>

                            <div class="fr-input-group">
                                {% set bailDpeDateEmmenagement = '' %}
                                {% if signalement.typeCompositionLogement %}
                                    {% set bailDpeDateEmmenagement = signalement.typeCompositionLogement.bailDpeDateEmmenagement %}
                                {% endif %}
                                <label class="fr-label" for="bailDpeDateEmmenagement">Date arrivée</label>
                                <input class="fr-input" type="date" name="bailDpeDateEmmenagement" value="{{ bailDpeDateEmmenagement }}">
                            </div>

                            <div class="fr-select-group">
                                {% set bailDpeBail = 'nsp' %}
                                {% if signalement.typeCompositionLogement %}
                                    {% if signalement.typeCompositionLogement.bailDpeBail is same as 'oui' %}
                                        {% set bailDpeBail = 'oui' %}
                                    {% elseif signalement.typeCompositionLogement.bailDpeBail is same as 'non' %}
                                        {% set bailDpeBail = 'non' %}
                                    {% else %}
                                        {% set bailDpeBail = 'nsp' %}
                                    {% endif %}
                                {% endif %}
                                <label class="fr-label" for="bailDpeBail">Bail</label>
                                <select class="fr-select" name="bailDpeBail">
                                    <option value="" disabled hidden>Sélectionnez un choix</option>
                                    <option value="oui" {{ bailDpeBail is same as 'oui' ? 'selected' : '' }}>Oui</option>
                                    <option value="non" {{ bailDpeBail is same as 'non' ? 'selected' : '' }}>Non</option>
                                    <option value="nsp" {{ bailDpeBail is same as 'nsp' ? 'selected' : '' }}>Je ne sais pas</option>
                                </select>
                            </div>

                            <div class="fr-select-group">
                                {% set bailDpeEtatDesLieux = 'nsp' %}
                                {% if signalement.typeCompositionLogement %}
                                    {% if signalement.typeCompositionLogement.bailDpeEtatDesLieux is same as 'oui' %}
                                        {% set bailDpeEtatDesLieux = 'oui' %}
                                    {% elseif signalement.typeCompositionLogement.bailDpeEtatDesLieux is same as 'non' %}
                                        {% set bailDpeEtatDesLieux = 'non' %}
                                    {% else %}
                                        {% set bailDpeEtatDesLieux = 'nsp' %}
                                    {% endif %}
                                {% endif %}
                                <label class="fr-label" for="bailDpeEtatDesLieux">Etat des lieux</label>
                                <select class="fr-select" name="bailDpeEtatDesLieux">
                                    <option value="" disabled hidden>Sélectionnez un choix</option>
                                    <option value="oui" {{ bailDpeEtatDesLieux is same as 'oui' ? 'selected' : '' }}>Oui</option>
                                    <option value="non" {{ bailDpeEtatDesLieux is same as 'non' ? 'selected' : '' }}>Non</option>
                                    <option value="nsp" {{ bailDpeEtatDesLieux is same as 'nsp' ? 'selected' : '' }}>Je ne sais pas</option>
                                </select>
                            </div>

                            <div class="fr-select-group">
                                {% set bailDpeDpe = 'nsp' %}
                                {% if signalement.typeCompositionLogement %}
                                    {% if signalement.typeCompositionLogement.bailDpeDpe is same as 'oui' %}
                                        {% set bailDpeDpe = 'oui' %}
                                    {% elseif signalement.typeCompositionLogement.bailDpeDpe is same as 'non' %}
                                        {% set bailDpeDpe = 'non' %}
                                    {% else %}
                                        {% set bailDpeDpe = 'nsp' %}
                                    {% endif %}
                                {% endif %}
                                <label class="fr-label" for="bailDpeDpe">DPE</label>
                                <select class="fr-select" name="bailDpeDpe">
                                    <option value="" disabled hidden>Sélectionnez un choix</option>
                                    <option value="oui" {{ bailDpeDpe is same as 'oui' ? 'selected' : '' }}>Oui</option>
                                    <option value="non" {{ bailDpeDpe is same as 'non' ? 'selected' : '' }}>Non</option>
                                    <option value="nsp" {{ bailDpeDpe is same as 'nsp' ? 'selected' : '' }}>Je ne sais pas</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="fr-modal__footer">
                            <ul class="fr-btns-group fr-btns-group--right fr-btns-group--inline-lg fr-btns-group--icon-left">
                                <li>
                                    <button type="button" class="fr-btn fr-btn--secondary fr-icon-close-line"
                                            aria-controls="fr-modal-edit-informations-logement">
                                        Annuler
                                    </button>
                                </li>
                                <li>
                                    <button class="fr-btn  fr-icon-checkbox-line" type="submit">
                                        Valider
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <input type="hidden" name="_token" value="{{ csrf_token('signalement_edit_informations_logement_'~signalement.id) }}">
                </form>
            </div>
        </div>
    </div>
</dialog>
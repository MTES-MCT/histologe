{% extends 'back/base_bo.html.twig' %}

{% block title %}Liste des utilisateurs{% endblock %}

{% block content %}
    <section class="fr-p-5v">
        {% include 'back/breadcrumb_bo.html.twig' with {
            'level2Title': 'Outils admin',
            'level2Link': '',
            'level2Label': '',
            'level3Title': 'Utilisateurs inactifs',
            'level3Link': path('back_user_inactive_accounts'),
            'level3Label': '',
            'level4Title': 'Export',
            'level4Link': '',
        } %}

        <header>
            <div class="fr-grid-row">
                <div class="fr-col-12 fr-text--left">
                    {% if nbResults > 1 %}
                        <h1>Exporter la liste {{nbResults}} utilisateurs inactifs</h1>
                    {% else %}
                        <h1>Exporter {{nbResults}} utilisateur inactif</h1>
                    {% endif %}
                    <p>
                        Vous êtes sur le point d'exporter la liste des utilisateurs inactifs.
                        <br>
                        Choisissez le format de fichier que vous souhaitez recevoir.
                    </p>
                </div>
            </div>
        </header>
    </section>

    {% if nbResults == 0 %}  
        <section class="fr-p-5v">
            <p class="fr-mt-3v fr-alert fr-alert--warning">
                Votre liste est vide : vous ne pouvez pas exporter une liste vide.
            </p>
        </section>
    {% else %}
        <section class="fr-p-5v">
            <form action="" method="POST" id="export-user">
                <h2>Format</h2>
                {% include 'form/form-choice-export-format.html.twig' %}
            </form>

            <h2 class="fr-mt-5v">Informations du fichier</h2>
            <div class="fr-alert fr-alert--warning fr-alert--sm">
                <p>Les informations contenues dans ce fichier ne doivent en aucun cas être partagées en dehors de vos services.</p>
            </div>
            <p class="fr-mt-5v">
                Votre fichier contient les informations suivantes :
            </p>
            <ul>
                <li><strong>ID</strong> : l'identifiant du compte</li>
                <li><strong>Nom</strong> : le nom de l'agent</li>
                <li><strong>Prénom</strong> : le prénom de l'agent</li>
                <li><strong>Email</strong> : l'adresse email du compte</li>
                <li><strong>Partenaire</strong> : le nom du partenaire auquel l'agent appartient</li>
                <li><strong>Date de création</strong> : la date de création du compte</li>
                <li><strong>Dernière connexion</strong> : la date de dernière connexion au compte</li>
                <li><strong>Date d'archivage prévue</strong> : la date à laquelle le compte sera archivé</li>
            </ul>
            <ul class="fr-btns-group fr-btns-group--inline-lg fr-btns-group--right fr-btns-group--icon-left">
                <li>
                    <a href="{{ path('back_user_inactive_accounts') }}" class="fr-btn fr-w-100 fr-btn--secondary fr-btn--icon-left fr-icon-close-line">
                        Annuler
                    </a>
                </li>
                <li>
                    <button type="submit" form="export-user" class="fr-btn fr-w-100 fr-btn--icon-left fr-icon-check-line">
                        Exporter le fichier
                    </button>
                </li>
            </ul>
        </section>
    {% endif %}

{% endblock %}

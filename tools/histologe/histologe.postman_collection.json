{
	"info": {
		"_postman_id": "8f360a5b-acfb-4607-96a0-e6233ba87a99",
		"name": "histologe",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "1569180"
	},
	"item": [
		{
			"name": "nouveau-formulaire",
			"item": [
				{
					"name": "mock",
					"item": [
						{
							"name": "questions?profil=tous",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=tous",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "tous"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "questions?profil=locataire",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=locataire",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "locataire"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "questions?profil=bailleur-occupant",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=bailleur-occupant",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "bailleur-occupant"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "questions?profil=tiers-particulier",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=tiers-particulier",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "tiers-particulier"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "questions?profil=tiers-pro",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=tiers-pro",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "tiers-pro"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "questions?profil=service-de-secours",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=service-de-secours",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "service-de-secours"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "questions?profil=bailleur",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/questions?profil=bailleur",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"questions"
									],
									"query": [
										{
											"key": "profil",
											"value": "bailleur"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "signalement-draft/envoi",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var data = JSON.parse(responseBody);",
									"",
									"if (null !== data.data) {",
									"    postman.setEnvironmentVariable(\"signalement_draft_uuid\", data.uuid);",
									"}",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"uuidSignalementDraft\": \"\",\n    \"currentStep\": \"4:vos_coordonnees_occupant\",\n    \"adresse_logement_adresse_suggestion\": \"10 rue du 14 juillet\",\n    \"adresse_logement_complement_adresse_etage\": \"5\",\n    \"adresse_logement_adresse\": \"10 Rue du 14 Juillet 79000 Niort\",\n    \"adresse_logement_adresse_detail_numero\": \"10 Rue du 14 Juillet\",\n    \"adresse_logement_adresse_detail_code_postal\": \"79000\",\n    \"adresse_logement_adresse_detail_commune\": \"Niort\",\n    \"adresse_logement_adresse_detail_insee\": \"79191\",\n    \"adresse_logement_adresse_detail_geoloc_lat\": 46.320151,\n    \"adresse_logement_adresse_detail_geoloc_lng\": -0.458533,\n    \"adresse_logement_complement_adresse_escalier\": \"5\",\n    \"adresse_logement_complement_adresse_numero_appartement\": \"10\",\n    \"adresse_logement_complement_adresse_autre\": \"115\",\n    \"signalement_concerne_profil\": \"logement_occupez\",\n    \"signalement_concerne_profil_detail_occupant\": \"locataire\",\n    \"profil\": \"locataire\",\n    \"vos_coordonnees_occupant_civilite\": \"mme\",\n    \"vos_coordonnees_occupant_nom\": \"Doe\",\n    \"vos_coordonnees_occupant_prenom\": \"Jane\",\n    \"vos_coordonnees_occupant_email\": \"jane.doe@yopmail.com\",\n    \"vos_coordonnees_occupant_tel\": \"0611452516\"\n,\n    \"vos_coordonnees_occupant_tel_countrycode\": \"FR:33\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/nouveau-formulaire/signalement-draft/envoi",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"nouveau-formulaire",
								"signalement-draft",
								"envoi"
							]
						}
					},
					"response": []
				},
				{
					"name": "signalement-draft/{uuid}/envoi",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"uuidSignalementDraft\": \"98afa696-5575-4ebd-9ca2-bb4829adfdd9\",\n    \"profil\": \"locataire\",\n    \"currentStep\": \"22:ecran_intermediaire_les_desordres\",\n    \"adresse_logement_adresse\": \"10 Rue du 14 Juillet 79000 Niort\",\n    \"signalement_concerne_profil\": \"logement_occupez\",\n    \"vos_coordonnees_occupant_nom\": \"Doe\",\n    \"vos_coordonnees_occupant_tel\": \"0611452516\",\n    \"vos_coordonnees_occupant_email\": \"jane.doe@yopmail.com\",\n    \"vos_coordonnees_occupant_prenom\": \"Jane\",\n    \"vos_coordonnees_occupant_civilite\": \"mme\",\n    \"adresse_logement_adresse_suggestion\": \"10 rue du 14 juillet\",\n    \"adresse_logement_adresse_detail_insee\": \"79191\",\n    \"adresse_logement_adresse_detail_numero\": \"10 Rue du 14 Juillet\",\n    \"adresse_logement_adresse_detail_commune\": \"Niort\",\n    \"adresse_logement_complement_adresse_autre\": \"115\",\n    \"adresse_logement_complement_adresse_etage\": \"5\",\n    \"adresse_logement_adresse_detail_geoloc_lat\": 46.320151,\n    \"adresse_logement_adresse_detail_geoloc_lng\": -0.458533,\n    \"adresse_logement_adresse_detail_code_postal\": \"79000\",\n    \"signalement_concerne_profil_detail_occupant\": \"locataire\",\n    \"adresse_logement_complement_adresse_escalier\": \"5\",\n    \"adresse_logement_complement_adresse_numero_appartement\": \"10\",\n    \"coordonnees_bailleur_nom\": \"Doe\",\n    \"coordonnees_bailleur_prenom\": \"John\",\n    \"coordonnees_bailleur_email\": \"john.doe@yopmail.com\",\n    \"coordonnees_bailleur_tel\": \"0600154512\",\n    \"coordonnees_bailleur_adresse_suggestion\": \"11 square de la rouguiere\",\n    \"coordonnees_bailleur_adresse\": \"Square la rouguiere 13011 Marseille\",\n    \"coordonnees_bailleur_adresse_detail_numero\": \"Square la rouguiere\",\n    \"coordonnees_bailleur_adresse_detail_code_postal\": \"13011\",\n    \"coordonnees_bailleur_adresse_detail_commune\": \"Marseille\",\n    \"coordonnees_bailleur_adresse_detail_insee\": \"13211\",\n    \"coordonnees_bailleur_adresse_detail_geoloc_lat\": 43.296325,\n    \"coordonnees_bailleur_adresse_detail_geoloc_lng\": 5.459241,\n    \"zone_concernee_zone\": \"batiment\",\n    \"type_logement_nature\": \"appartement\",\n    \"type_logement_rdc\": \"oui\",\n    \"composition_logement_nb_pieces\": \"3\",\n    \"composition_logement_nombre_personnes\": \"5\",\n    \"composition_logement_superficie\": \"152\",\n    \"composition_logement_piece_unique\": \"plusieurs_pieces\",\n    \"composition_logement_enfants\": \"oui\",\n    \"type_logement_pieces_a_vivre_superficie_piece_3\": \"10\",\n    \"type_logement_pieces_a_vivre_superficie_piece_2\": \"6\",\n    \"type_logement_pieces_a_vivre_superficie_piece_1\": \"2\",\n    \"type_logement_pieces_a_vivre_hauteur_piece_1\": \"oui\",\n    \"type_logement_pieces_a_vivre_hauteur_piece_2\": \"oui\",\n    \"type_logement_pieces_a_vivre_hauteur_piece_3\": \"oui\",\n    \"type_logement_commodites_cuisine\": \"oui\",\n    \"type_logement_commodites_cuisine_hauteur_plafond\": \"oui\",\n    \"type_logement_commodites_salle_de_bain\": \"oui\",\n    \"type_logement_commodites_salle_de_bain_hauteur_plafond\": \"oui\",\n    \"type_logement_commodites_wc\": \"oui\",\n    \"type_logement_commodites_wc_hauteur_plafond\": \"oui\",\n    \"type_logement_commodites_wc_cuisine\": \"oui\",\n    \"bail_dpe_date_emmenagement\": \"2020-02-10\",\n    \"bail_dpe_bail\": \"oui\",\n    \"bail_dpe_bail_upload\": {\n        \"file\": \"excellence-64ef8fb25a01c.jpg\",\n        \"titre\": \"excellence.jpg\",\n        \"key\": \"documents\"\n    },\n    \"bail_dpe_etat_des_lieux\": \"oui\",\n    \"bail_dpe_dpe\": \"non\",\n    \"logement_social_montant_allocation\": null,\n    \"logement_social_demande_relogement\": \"non\",\n    \"logement_social_allocation\": \"non\",\n    \"travailleur_social_quitte_logement\": \"non\",\n    \"travailleur_social_accompagnement\": \"non\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/nouveau-formulaire/signalement-draft/{{signalement_draft_uuid}}/envoi",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"nouveau-formulaire",
								"signalement-draft",
								"{{signalement_draft_uuid}}",
								"envoi"
							]
						}
					},
					"response": []
				},
				{
					"name": "signalement-draft/{uuid}/informations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/nouveau-formulaire/signalement-draft/{{signalement_draft_uuid}}/informations",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"nouveau-formulaire",
								"signalement-draft",
								"{{signalement_draft_uuid}}",
								"informations"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "oilhi",
			"item": [
				{
					"name": "hooks/catch",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"signalementUrl\": \"{{$randomUrl}}\",\n    \"signalementId\": \"{{$randomUUID}}\",\n    \"partnerId\": \"{{$randomUUID}}\",\n    \"token\": \"{{oilhi_token}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://hooks.zapier.com/hooks/catch/{{zapier_user_id}}/{{zapier_zap_id}}/",
							"protocol": "https",
							"host": [
								"hooks",
								"zapier",
								"com"
							],
							"path": [
								"hooks",
								"catch",
								"{{zapier_user_id}}",
								"{{zapier_zap_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "signalement/csrf-token",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"if (null !== data.data) {",
							"    postman.setEnvironmentVariable(\"csrf_token\", data.csrf_token.value);",
							"}",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/signalement/csrf-token",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"signalement",
						"csrf-token"
					]
				}
			},
			"response": []
		},
		{
			"name": "questions?profil=tous",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"if (null !== data.data) {",
							"    postman.setEnvironmentVariable(\"csrf_token\", data.csrf_token.value);",
							"}",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/api/questions?profil=tous",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"questions"
					],
					"query": [
						{
							"key": "profil",
							"value": "tous"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "questions?profil=locataire",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/api/questions?profil=locataire",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"questions"
					],
					"query": [
						{
							"key": "profil",
							"value": "locataire"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "signalement/envoi",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "signalement[isNotOccupant]",
							"value": "0",
							"type": "text"
						},
						{
							"key": "signalement[nomDeclarant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[prenomDeclarant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[telDeclarant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[mailDeclarant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[structureDeclarant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[nomOccupant]",
							"value": "Doe",
							"type": "text"
						},
						{
							"key": "signalement[prenomOccupant]",
							"value": "John",
							"type": "text"
						},
						{
							"key": "signalement[telOccupant]",
							"value": "0611000000",
							"type": "text"
						},
						{
							"key": "signalement[telOccupantBis]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[mailOccupant]",
							"value": "john.doe@gmail.com",
							"type": "text"
						},
						{
							"key": "signalement[adresseOccupant]",
							"value": "25 Rue desiree clary",
							"type": "text"
						},
						{
							"key": "signalement[cpOccupant]",
							"value": "13002",
							"type": "text"
						},
						{
							"key": "signalement[villeOccupant]",
							"value": "Marseille",
							"type": "text"
						},
						{
							"key": "signalement[geoloc][lat]",
							"value": "43.302034",
							"type": "text"
						},
						{
							"key": "signalement[geoloc][lng]",
							"value": "5.364699",
							"type": "text"
						},
						{
							"key": "signalement[inseeOccupant]",
							"value": "13202",
							"type": "text"
						},
						{
							"key": "signalement[etageOccupant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[escalierOccupant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[numAppartOccupant]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[adresseAutreOccupant]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[nomProprio]",
							"value": "13 Habitat",
							"type": "text"
						},
						{
							"key": "signalement[adresseProprio]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[telProprio]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[mailProprio]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][7][criticite]",
							"value": "6",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][10][criticite]",
							"value": "12",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][13][criticite]",
							"value": "21",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][14][criticite]",
							"value": "134",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][15][criticite]",
							"value": "24",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][56][criticite]",
							"value": "48",
							"type": "text"
						},
						{
							"key": "signalement[situation][8][critere][73][criticite]",
							"value": "54",
							"type": "text"
						},
						{
							"key": "signalement[situation][9][critere][54][criticite]",
							"value": "42",
							"type": "text"
						},
						{
							"key": "signalement[situation][9][critere][58][criticite]",
							"value": "69",
							"type": "text"
						},
						{
							"key": "signalement[situation][9][critere][61][criticite]",
							"value": "135",
							"type": "text"
						},
						{
							"key": "signalement[situation][9][critere][67][criticite]",
							"value": "122",
							"type": "text"
						},
						{
							"key": "signalement[situation][10][critere][64][criticite]",
							"value": "3",
							"type": "text"
						},
						{
							"key": "signalement[situation][10][critere][66][criticite]",
							"value": "60",
							"type": "text"
						},
						{
							"key": "signalement[situation][10][critere][72][criticite]",
							"value": "63",
							"type": "text"
						},
						{
							"key": "signalement[situation][10][critere][76][criticite]",
							"value": "131",
							"type": "text"
						},
						{
							"key": "signalement[situation][11][critere][9][criticite]",
							"value": "109",
							"type": "text"
						},
						{
							"key": "signalement[situation][11][critere][11][criticite]",
							"value": "15",
							"type": "text"
						},
						{
							"key": "signalement[situation][11][critere][77][criticite]",
							"value": "138",
							"type": "text"
						},
						{
							"key": "signalement[situation][11][critere][78][criticite]",
							"value": "141",
							"type": "text"
						},
						{
							"key": "signalement[situation][12][critere][47][criticite]",
							"value": "86",
							"type": "text"
						},
						{
							"key": "signalement[situation][12][critere][51][criticite]",
							"value": "98",
							"type": "text"
						},
						{
							"key": "signalement[situation][13][critere][18][criticite]",
							"value": "33",
							"type": "text"
						},
						{
							"key": "signalement[situation][13][critere][68][criticite]",
							"value": "101",
							"type": "text"
						},
						{
							"key": "signalement[situation][13][critere][69][criticite]",
							"value": "104",
							"type": "text"
						},
						{
							"key": "signalement[details]",
							"value": "Logement indigne, insalubre, et présentant des risques pour la sécurité des personnes. En dépit de plusieurs démarches auprès du propriétaire, nulle réaction. Un huissier a été mandaté par mes soins et j'attends son constat. Multiplication depuis les alertes d'intimidations de toutes sortes.",
							"type": "text"
						},
						{
							"key": "signalement[consoSizeYear]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[consoSize]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[consoYear]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[isProprioAverti]",
							"value": "1",
							"type": "text"
						},
						{
							"key": "signalement[nbAdultes]",
							"value": "2",
							"type": "text"
						},
						{
							"key": "signalement[nbEnfantsM6]",
							"value": "0",
							"type": "text"
						},
						{
							"key": "signalement[nbEnfantsP6]",
							"value": "1",
							"type": "text"
						},
						{
							"key": "signalement[natureLogement]",
							"value": "maison",
							"type": "text"
						},
						{
							"key": "signalement[superficie]",
							"value": "100",
							"type": "text"
						},
						{
							"key": "signalement[isAllocataire]",
							"value": "0",
							"type": "text"
						},
						{
							"key": "signalement[numAllocataire]",
							"value": " ",
							"type": "text"
						},
						{
							"key": "signalement[dateNaissanceOccupant][day]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[dateNaissanceOccupant][month]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[dateNaissanceOccupant][year]",
							"value": "",
							"type": "text"
						},
						{
							"key": "signalement[isLogementSocial]",
							"value": "0",
							"type": "text"
						},
						{
							"key": "signalement[isPreavisDepart]",
							"value": "0",
							"type": "text"
						},
						{
							"key": "signalement[isRelogement]",
							"value": "0",
							"type": "text"
						},
						{
							"key": "signalement[isCguAccepted]",
							"value": "on",
							"type": "text"
						},
						{
							"key": "is-visite-accepted",
							"value": "on",
							"type": "text"
						},
						{
							"key": "_token",
							"value": "{{csrf_token}}",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://localhost:8080/signalement/envoi",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"signalement",
						"envoi"
					]
				}
			},
			"response": []
		}
	]
}